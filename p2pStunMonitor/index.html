<!DOCTYPE html>
<html lang="en">
    <head>
        <title>WebRTC PISN</title>
        <script src="../jquery.js"></script>
        <script src="../peer.js"></script>
        <script src="../socket.io.js"></script>
        <style type="text/css">
            body div .stream,.graph-container{
                display: inline-block;
                margin-right: 10px;                
            }

            body .btn{
                height: 50px;
                width:  100px;
                font-size: 20px;
            }
            body .stream canvas{
                background-color: gray;
            }
        </style>
    </head>
    <body>
        <div id="info">
            <h3 id="myPeer">Call Peer to Peer via STUN and Socket.io </h3>              
            </ul>
            <div class="stream">
                 <h4>localStream</h4>
                <video id="localStream" width="300" controls></video>
            </div>
            <div class="stream">
                <h4>remoteStream</h4>
                <video id="remoteStream" width="300" controls></video>            
            </div>
            <div class="stream">
                <h4>Audio stream visualizer</h4>
                <canvas id="visualizerAudioCanvas"></canvas>      
            </div>
            <br/>
            <div>
                <button class="btn" id="btnStart">Call</button>
                <button class="btn" id="btnHangup">Hangup</button>
                <p type="text" id="statusCall"></p>
            </div> 
            <h3>Monitor video</h3>
            <div class="graph-container" id="bitrateVideoSentGraph">
                <div>Bitrate send</div>
                <canvas id="bitrateVideoCanvas"></canvas>
            </div>
            <div class="graph-container" id="packetVideoSentGraph">
                <div>Packets sent per second</div>
                <canvas id="packetVideoCanvas"></canvas>
            </div>
            <div class="graph-container" id="bitrateVideoReceivedGraph">
                <div>Bitrate received</div>
                <canvas id="bitrateVideoReceivedCanvas"></canvas>
            </div>
            <div class="graph-container" id="packetVideoReceivedGraph">
                <div>Packets received per second</div>
                <canvas id="packetVideoReceivedCanvas"></canvas>
            </div>
            <h3>Monitor audio</h3>
            <div class="graph-container" id="bitrateAudioSentGraph">
                <div>Bitrate send</div>
                <canvas id="bitrateAudioCanvas"></canvas>
            </div>
            <div class="graph-container" id="packetAudioSentGraph">
                <div>Packets sent per second</div>
                <canvas id="packetAudioCanvas"></canvas>
            </div>
            <div class="graph-container" id="bitrateAudioReceivedGraph">
                <div>Bitrate received</div>
                <canvas id="bitrateAudioReceivedCanvas"></canvas>
            </div>
            <div class="graph-container" id="packetAudioReceivedGraph">
                <div>Packets received per second</div>
                <canvas id="packetAudioReceivedCanvas"></canvas>
            </div>
            <div>
                <label>Local Bandwidth:</label>
                <select id="bandwidth" disabled>
                    <option value="unlimited">unlimited</option>
                    <option value="2000">2000</option>
                    <option value="1000">1000</option>
                    <option value="500" selected>500</option>
                    <option value="250">250</option>
                    <option value="125">125</option>
                </select>
              kbps
            </div>
              
        </div>
    </body>
    <script src="p2pstunmonitor.js"></script>
    <script src="../third_party/graph.js"></script>
    <script src="../third_party/streamvisualizer.js"></script>
    <!-- <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script> -->
</html>
